import {Canvas, Meta, Story} from '@storybook/addon-docs/blocks';
import {ReactiveFormsModule} from "@angular/forms";
import {IconsModule} from "../icons/icons.module";
import {BrowserAnimationsModule} from "@angular/platform-browser/animations";
import {IconsRegistryModule} from "../icons/icons-registry.module";
import {MatAutocompleteModule} from "@angular/material/autocomplete";
import {SelectSearchComponent} from "./select-search.component";

<Meta
    title="Atoms/Select Search"
    component={SelectSearchComponent}
    parameters={{layout: 'padded'}}/>

# Select
<br/>
<br/>

### Props
| Property | Type  | Values | Default  |
| ------ | --------- |------ | --------- |
| optionList    | any[]   |  | |
| value    | any   |     ""    |  ""  |
| clearValue    | string   |     ""    |  ""  |
| placeholder    | string   |  | "placeholder" |
| disabled      | boolean  | true/false       | false     |

### Events
| Event | Arguments  | Description |
| ------ | --------- |------ |
| optionSelected    |     | Emitted when select's value changes |
| change    |     | Emitted when select's value changes |

------

export const Template = (args) => ({
    component: SelectSearchComponent,
    props: {
        ...args,
        placeholder: 'placeholder',
    },
    moduleMetadata: {
        imports: [BrowserAnimationsModule, MatAutocompleteModule, ReactiveFormsModule, IconsModule, IconsRegistryModule],
        declarations: [SelectSearchComponent],
    },
    template: '<app-select-search ' +
        '[id]="id" ' +
        '[placeholder]="placeholder" ' +
        '[value]="value" ' +
        '[disabled]="disabled" ' +
        '[clearValue]="clearValue" ' +
        '[optionList]="optionList"></app-select-search>',
})

<br/>
<br/>

### Appearance

<Canvas>
    <Story name='Default'
           height={350}
           args={{
               value: '1',
               optionList: ['1', '2', '3', '4', '5'],
               id: 'default-input-search'
           }}
           parameters={{
               docs: {
                   source: {
                       code: '<app-select-search value="1" optionList="[1,2,3,4,5]"></app-select-search>',
                   }
               }
           }}>{Template.bind({})}
    </Story>
    <Story name='Clear Value'
           height={350}
           args={{
               id: 'clear-value-input-search',
               value: 'red',
               clearValue: 'Select Color',
               optionList: ['blue', 'green', 'red', 'yellow', 'white']
           }}
           parameters={{
               docs: {
                   source: {
                       code: '<app-select-search value=c" optionList="[a,b,c,d,e]" clearValue="Select color"></app-select-search>',
                   },
               }
           }}>{Template.bind({})}
    </Story>
    <Story name='Disabled'
           height={350}
           args={{
               id: 'disabled-input-search',
               value: 'b',
               optionList: ['a', 'b', 'c', 'd', 'e'],
               disabled: true
           }}
           parameters={{
               docs: {
                   source: {
                       code: '<app-select-search value=c" optionList="[a,b,c,d,e]" disabled="true"></app-select-search>',
                   },
               }
           }}>{Template.bind({})}
    </Story>
</Canvas>

<br/>
<br/>

# Usages

Import InputsModule into your custom module

```typescript
import { SelectSearchModule } from './select-search.module';

@NgModule({
    imports: [SelectSearchModule]
})

export class YourModule {}
```

## Examples

  ```html
    <app-select-search [optionList]="['7:00 PM']" [value]="'7:00 PM'"></app-select-search>
```
 ```html
    <app-select-search [optionList]="['8:00 AM']" [value]="'8:00 AM'"></app-select-search>
  ```
